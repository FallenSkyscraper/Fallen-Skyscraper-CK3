juche_struggle = {
	# has_fp2_dlc_trigger = yes  #TODO_CD_AN Request support for dlc locking on struggles

	##################################################
	# Setup
	##################################################
	cultures = {
		baekdu
		kaema
		hamheung
		gyeongseong
		yukjin
		geumgang
		wonsan
		pyongyang
		anju
		deokcheon
		uiju
		yeongbyeon
		jaseong
		gapyeong
		gaeseong
		hwangju
		haeju
		singye
		chuncheon
	}
	faiths = {
		# Non-juche
		naturalism_pagan marxism new_left cheondo cheonjin populism authoritarianism hamortho mu_pagan
		# juche
		juche haeseoan inmin_juche
	}
	regions = { 
		world_korea_north
	}

	# A culture or faith becomes involved if 80% of the total number of counties belonging to it are inside the struggle region.
	involvement_prerequisite_percentage = 0.8

	on_start = {
		# Starting Events
		#trigger_event = { on_action = neutral_struggle.0001 }
		trigger_event = { on_action = fp2_juche_struggle_starting_events }
	}

	on_change_phase = {

		# Set up AI Intent
		trigger_event = fp2_juche_struggle.0003
	}
	
	# Root = the current struggle
	# scope:character = the character which has joined the struggle
 	on_join = {
		scope:character = {
			if = {
				limit = {
					is_ai = no
				}

				#if = {
				#	limit = {
				#		root = { was_player_joined = scope:character }
				#	}
#
#					if = {
#						limit = {
#							NOT = { has_character_flag =  fp2_struggle_intro_event_flag }
#						}
#						add_character_flag = fp2_struggle_intro_event_flag
#					}
#				}

				trigger_event = fp2_juche_struggle.0501
			}
			else = {
				# assign an intent to the freshly joined character
				trigger_event = fp2_struggle.004
			}
		}
 	}  

	##################################################
	# Phases
	##################################################
	start_phase = struggle_juche_phase_conquest

	phase_list = {
		struggle_juche_phase_conquest = {
			#background = ""

			future_phases = {
				struggle_juche_phase_status_quo = {
					catalyst_passing_of_time = passive_struggle_catalyst_gain
				}
			}

			ending_decisions = {
				#struggle_juche_ending_hostility_decision
				#struggle_juche_ending_compromise_decision
				#struggle_juche_ending_conciliation_decision
			}
		}

		struggle_juche_phase_status_quo = {
			#background = ""

			future_phases = {
				struggle_juche_phase_alliance = {
					#강제 전환 scripted effect 사용
				}

				struggle_juche_phase_cease = {
					catalyst_passing_of_time = passive_struggle_catalyst_gain
				}
			}

			war_effects = {
				involved_parameters = {
					#이런건 어디까지나 틀일 뿐, 다 채워넣을 필요 없음. 필요에 따라 쓰셈
				}

				involved_character_modifier = {

				}

				###### Interlopers
				interloper_parameters = {

				}

				interloper_character_modifier = {

				}

				###### Uninvolved
				uninvolved_parameters = {

				}

				uninvolved_county_modifier = {
					
				}
			}

			faith_effects = {
				involved_parameters = {
					
				}

				involved_character_modifier = {

				}

				###### Interlopers
				interloper_parameters = {

				}

				interloper_character_modifier = {

				}

				###### Uninvolved
				uninvolved_parameters = {

				}
			}

			culture_effects = {
				involved_parameters = {
					
				}

				involved_character_modifier = {

				}

				###### Interlopers
				interloper_parameters = {

				}

				interloper_character_modifier = {

				}

				###### Uninvolved
				uninvolved_parameters = {

				}
			}

			other_effects = {
				involved_parameters = {
					
				}

				involved_character_modifier = {

				}

				###### Interlopers
				interloper_parameters = {

				}

				interloper_character_modifier = {

				}

				###### Uninvolved
				uninvolved_parameters = {

				}
			}

			ending_decisions = {
				#struggle_juche_ending_hostility_decision
				#struggle_juche_ending_compromise_decision
				#struggle_juche_ending_conciliation_decision
			}
		}

		struggle_juche_phase_cease = {
			#background = ""

			future_phases = {
				struggle_juche_phase_fragmentation = {
					catalyst_passing_of_time = minimal_struggle_catalyst_gain
					catalyst_conducted_border_raid = medium_struggle_catalyst_gain
					catalyst_broke_truce_against_important_character = massive_struggle_catalyst_gain
				}

				struggle_juche_phase_contention = {
					
				}
			}

			war_effects = {
				involved_parameters = {
					unlocks_border_raid_casus_belli = yes
				}

				involved_character_modifier = {

				}

				###### Interlopers
				interloper_parameters = {

				}

				interloper_character_modifier = {

				}

				###### Uninvolved
				uninvolved_parameters = {

				}
			}

			faith_effects = {
				involved_parameters = {
					interfaith_marriages_available_between_involved_characters = yes
					interfaith_marriages_between_involved_characters_costs_piety = yes
				}

				involved_character_modifier = {

				}

				###### Interlopers
				interloper_parameters = {

				}

				interloper_character_modifier = {

				}

				###### Uninvolved
				uninvolved_parameters = {

				}
			}

			culture_effects = {
				involved_parameters = {

				}

				involved_character_modifier = {

				}

				###### Interlopers
				interloper_parameters = {

				}

				interloper_character_modifier = {

				}

				###### Uninvolved
				uninvolved_parameters = {

				}
			}

			other_effects = {
				involved_parameters = {
					struggle_unlocks_befriend_schemes_for_everyone = yes
				}

				involved_character_modifier = {

				}

				###### Interlopers
				interloper_parameters = {

				}

				interloper_character_modifier = {

				}

				###### Uninvolved
				uninvolved_parameters = {

				}
			}

			ending_decisions = {
				#struggle_juche_ending_hostility_decision
				#struggle_juche_ending_compromise_decision
				#struggle_juche_ending_conciliation_decision
			}
		}

		struggle_juche_phase_alliance = {
			#background = ""

			future_phases = {
				struggle_juche_phase_fragmentation = {
					catalyst_passing_of_time = minimal_struggle_catalyst_gain
					catalyst_conducted_border_raid = medium_struggle_catalyst_gain
					catalyst_broke_truce_against_important_character = massive_struggle_catalyst_gain
				}

				struggle_juche_phase_contention = {
					
				}
			}

			war_effects = {
				involved_parameters = {
					struggle_cb_cost_minor = yes
				}

				involved_character_modifier = {

				}

				###### Interlopers
				interloper_parameters = {

				}

				interloper_character_modifier = {

				}

				###### Uninvolved
				uninvolved_parameters = {

				}
			}

			faith_effects = {
				involved_parameters = {
					interfaith_marriages_available_between_involved_characters = yes
					interfaith_marriages_between_involved_characters_costs_piety = yes
				}

				involved_character_modifier = {

				}

				###### Interlopers
				interloper_parameters = {

				}

				interloper_character_modifier = {

				}

				###### Uninvolved
				uninvolved_parameters = {

				}
			}

			culture_effects = {
				involved_parameters = {
					
				}

				involved_character_modifier = {

				}

				###### Interlopers
				interloper_parameters = {

				}

				interloper_character_modifier = {

				}

				###### Uninvolved
				uninvolved_parameters = {

				}
			}

			other_effects = {
				involved_parameters = {
					
				}

				involved_character_modifier = {

				}

				###### Interlopers
				interloper_parameters = {

				}

				interloper_character_modifier = {

				}

				###### Uninvolved
				uninvolved_parameters = {

				}
			}

			ending_decisions = {
				#struggle_juche_ending_hostility_decision
				#struggle_juche_ending_compromise_decision
				#struggle_juche_ending_conciliation_decision
			}
		}

		struggle_juche_phase_fragmentation = {
			future_phases = {
				struggle_juche_phase_contention = {

				}
			}

			war_effects = {
				involved_parameters = {
					
				}

				involved_character_modifier = {

				}

				###### Interlopers
				interloper_parameters = {

				}

				interloper_character_modifier = {

				}

				###### Uninvolved
				uninvolved_parameters = {

				}
			}

			faith_effects = {
				involved_parameters = {
					
				}

				involved_character_modifier = {

				}

				###### Interlopers
				interloper_parameters = {

				}

				interloper_character_modifier = {

				}

				###### Uninvolved
				uninvolved_parameters = {

				}
			}

			culture_effects = {
				involved_parameters = {
					
				}

				involved_character_modifier = {

				}

				###### Interlopers
				interloper_parameters = {

				}

				interloper_character_modifier = {

				}

				###### Uninvolved
				uninvolved_parameters = {

				}
			}

			other_effects = {
				involved_parameters = {
					
				}

				involved_character_modifier = {

				}

				###### Interlopers
				interloper_parameters = {

				}

				interloper_character_modifier = {

				}

				###### Uninvolved
				uninvolved_parameters = {

				}
			}

			ending_decisions = {
				#struggle_juche_ending_hostility_decision
				#struggle_juche_ending_compromise_decision
				#struggle_juche_ending_conciliation_decision
			}
		}

		struggle_juche_phase_contention = {
			future_phases = {
				struggle_juche_phase_status_quo = {

				}
			}

			war_effects = {
				involved_parameters = {
					
				}

				involved_character_modifier = {

				}

				###### Interlopers
				interloper_parameters = {

				}

				interloper_character_modifier = {

				}

				###### Uninvolved
				uninvolved_parameters = {

				}
			}

			faith_effects = {
				involved_parameters = {
					
				}

				involved_character_modifier = {

				}

				###### Interlopers
				interloper_parameters = {

				}

				interloper_character_modifier = {

				}

				###### Uninvolved
				uninvolved_parameters = {

				}
			}

			culture_effects = {
				involved_parameters = {
					
				}

				involved_character_modifier = {

				}

				###### Interlopers
				interloper_parameters = {

				}

				interloper_character_modifier = {

				}

				###### Uninvolved
				uninvolved_parameters = {

				}
			}

			other_effects = {
				involved_parameters = {
					
				}

				involved_character_modifier = {

				}

				###### Interlopers
				interloper_parameters = {

				}

				interloper_character_modifier = {

				}

				###### Uninvolved
				uninvolved_parameters = {

				}
			}

			ending_decisions = {
				#struggle_juche_ending_hostility_decision
				#struggle_juche_ending_compromise_decision
				#struggle_juche_ending_conciliation_decision
			}
		}
	}

	# AI should gift
}
