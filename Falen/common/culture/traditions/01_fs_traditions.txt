tradition_sea_peoples = {
	category = realm

	layers = {
		0 = diplo
		1 = mediterranean
		4 = ship.dds
	}
	
	is_shown = {
		OR ={
			this = culture:incheon
			any_parent_culture_or_above = {
				this = culture:incheon
			}
		}
	}
	can_pick = {
		OR ={
			this = culture:incheon
			any_parent_culture_or_above = {
				this = culture:incheon
			}
		}
	}
	
	parameters = {
	    wanderers_gain_extra_economic_skills = yes
		more_likely_to_leave_court = yes
		trade_ports_give_levies = yes
		can_travel_along_rivers = yes
		next_level_trade_ports = yes
		sea_peoples_coastal_holdings = yes
	}
	character_modifier = {
		republic_government_vassal_opinion = 10
		embarkation_cost_mult = -0.15
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			# Ethos requirement.
			if = {
				limit = {
					NOR = {
						any_in_list = { list = traits this = flag:ethos_egalitarian }
						any_in_list = { list = traits this = flag:ethos_stoic }
						any_in_list = { list = traits this = flag:ethos_bureaucratic }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_egalitarian_stoic_or_bureaucratic_desc
				}
			}
			# Coastal requirement.
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.5
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = coastal_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				scope:character = {
					any_sub_realm_county = {
						percent >= 0.6
						any_county_province = {
							is_coastal = yes
						}
					}
				}
			}
			add = 50
		}
		if = { # Make stacking a bit less common
			limit = {
				OR = {
					any_in_list = { list = traits this = flag:tradition_seafaring }
					any_in_list = { list = traits this = flag:tradition_fishermen }
				}
			}
			multiply = 0.75
		}
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.3
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_legacy_of_city_union = {
	category = realm

	layers = {
		0 = steward
		1 = mediterranean
		4 = laurel.dds
	}

	is_shown = {
		OR ={
			this = culture:incheon
			any_parent_culture_or_above = {
				this = culture:incheon
			}
		}
		NOT = { has_cultural_tradition = tradition_parochialism }
	}
	can_pick = {
		OR ={
			this = culture:incheon
			any_parent_culture_or_above = {
				this = culture:incheon
			}
		}
		NOT = { has_cultural_tradition = tradition_parochialism }
	}
	
	parameters = {
		can_make_republican_vassals = yes
		city_buildings_more_powerful = yes
		city_buildings_less_control = yes
		republican_vassals_pay_more = yes
	}
	character_modifier = {
		city_holding_build_gold_cost = -0.05
		city_holding_holding_build_gold_cost = -0.05
		republic_government_vassal_opinion = -10
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						any_in_list = { list = traits this = flag:ethos_courtly }
						any_in_list = { list = traits this = flag:ethos_communal }
						any_in_list = { list = traits this = flag:ethos_spiritual }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_sub_realm_county = {
								percent >= 0.9
								culture = scope:character.culture
								any_county_province = {
									has_holding_type = city_holding
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = 90_percent_cities_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.15
							culture = scope:character.culture
							any_county_province = {
								has_holding_type = city_holding
							}
						}
					}
				}
			}
			multiply = 0
		}
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_vassal = {
							primary_title.tier > tier_county
							has_government = republic_government
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_sinocentrism = {
	category = realm

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = noble.dds
	}
	
	parameters = {
		courtiers_less_likely_to_leave_same_culture_court = yes
		harder_to_hybridize = yes
	}
	culture_modifier = {
		cultural_acceptance_gain_mult = -0.35
	}
	character_modifier = {
		diplomatic_range_mult = -0.25
		same_culture_opinion = 5
		different_culture_opinion = -10
	}
	county_modifier = {
		monthly_county_control_change_add = 0.5
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						any_in_list = { list = traits this = flag:ethos_communal }
						any_in_list = { list = traits this = flag:ethos_egalitarian }
						any_in_list = { list = traits this = flag:ethos_stoic }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
				}
			}
			if = {
				limit = {
					scope:character = {
						any_sub_realm_county = {
							culture = scope:character.culture
							any_neighboring_county = {
								NOT = {
									culture = scope:character.culture
								}
								culture = {
									cultural_acceptance = { target = scope:character.culture value >= 40 }
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = non_tolerated_cultures_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					is_divergent_culture = yes
				}
			}
			multiply = 0
		}
		if = {
			limit = {
				any_in_list = { list = traits this = flag:ethos_egalitarian }
			}
			multiply = 0
		}
	}
}

tradition_korean_succession = {
	category = realm

	layers = {
		0 = diplo
		1 = western
		4 = king.dds
	}
	
	can_pick = {
		scope:character = {
			has_government = feudal_government
		}
	}
	
	parameters = {
		poorly_educated_leaders_distrusted = yes
		peasant_and_populist_factions_less_common = yes
		cheaper_to_change_laws = yes
		unlock_maa_ROK_army = yes
	}
	character_modifier = {
		castle_holding_holding_build_gold_cost = -0.15
		feudal_government_tax_contribution_mult = 0.1
		long_reign_bonus_mult = 0.25
		tyranny_loss_mult = -0.75
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						any_in_list = { list = traits this = flag:ethos_courtly }
						any_in_list = { list = traits this = flag:ethos_spiritual }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							primary_title.tier >= tier_kingdom
							any_vassal = {
								count >= 10
								primary_title.tier >= tier_county
								has_government = feudal_government
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = king_with_vassals_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character.primary_title.tier >= tier_kingdom
				}
			}
			multiply = 0
		}
	}
}

tradition_legacy_of_north_joseon = {
	category = realm

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = king.dds
	}
	
	parameters = {
		peasant_and_populist_factions_less_common = yes
		expensive_convert_to_local_culture = yes
		harder_to_hybridize = yes
		unlock_maa_peoples_army = yes
	}
	culture_modifier = {
		cultural_acceptance_gain_mult = -0.25

	}
	character_modifier = {
		dread_per_tyranny_add = 0.3
		dread_decay_mult = -0.3
		revolting_siege_morale_loss_mult = 0.25
		monthly_county_control_change_add = 0.3
		cultural_head_fascination_mult = -0.1

	}
	can_pick = {
		has_trait = paektu
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						any_in_list = { list = traits this = flag:ethos_spiritual }
						any_in_list = { list = traits this = flag:ethos_courtly }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_spiritual_or_courtly_desc
				}
			}
			if = {
				limit = {
					scope:character = {
						any_councillor = {
							NOR = {
								culture = scope:character.culture
								is_spouse_of = scope:character # Might be hard to have the right culture for the Spouse; but we can remove this helper if needed
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = has_other_cultures_in_council_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = { 
		value = 100
		if = {
			limit = {
				scope:character.dread < 25
			}
			multiply = 0.5
		}
		if = {
			limit = {
				scope:character.tyranny < 25
			}
			multiply = 0.5
		}
		if = {
			limit = {
				NOT = {
					is_divergent_culture = yes
				}
			}
			multiply = 0.25
		}
		if = {
			limit = {
				any_in_list = { list = traits this = flag:ethos_egalitarian }
			}
			multiply = 0.25
		}
		if = {
			limit = {
				scope:character = {
					has_trait = paektu 
				}
			}
			multiply = 10
		}
	}
}

tradition_federation = {
	category = realm

	layers = {
		0 = steward
		1 = indian
		4 = crown.dds
	}
	
	can_pick = {
		scope:character = {
			has_government = feudal_government
		}
	}
	
	parameters = {
		unlock_maa_national_guard = yes
	}
	character_modifier = {
		development_growth_factor = 0.15
		tyranny_gain_mult = 0.5
		opinion_of_liege = -10
		dread_baseline_add = -10
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
		}
	}
	
	ai_will_do = {
		value = 25
		if = {
			limit = {
				NOR = {
					has_cultural_pillar = heritage_gyeonggi
				}
			}
			multiply = 0.5
		}
	}
}

tradition_jakun_gusa = {
	category = combat

	layers = {
		0 = martial
		1 = western
		4 = viking.dds
	}
	
	is_shown = {
		has_cultural_pillar = heritage_manchu
	}
	
	parameters = {
		unlock_mma_jakun_gusa = yes
	}
	
	cost = {
		prestige = {
			# Base cost.
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			# Ethos requirement.
			if = {
				limit = {
					any_in_list = {
						list = traits
						this = flag:ethos_bellicose
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = culture_not_bellicose
				}
			}
			# Gotta be a heavily coastal culture not to get a surcharge.
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = coastal_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.3
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_peoples_army = {
	category = societal

	layers = {
		0 = martial
		1 = mena
		4 = soldiers3.dds
	}
	
	parameters = {
		unlock_maa_peoples_army = yes
	}
	
	
	is_shown = {
		has_cultural_pillar = heritage_gwandong
	}
	
	character_modifier = {
		knight_limit = +1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
		}
	}
	
	ai_will_do = { 
		value = 0
	}
}

tradition_seoul = {
	category = realm

	layers = {
		0 = steward
		1 = mena
		4 = crown.dds
	}
	
	is_shown = {
		OR ={
			this = culture:seoul
			any_parent_culture_or_above = {
				this = culture:seoul
			}
		}
	}
	can_pick = {
		OR ={
			this = culture:seoul
			any_parent_culture_or_above = {
				this = culture:seoul
			}
		}
	}
	
	parameters = {
	   development_growth_factor = 0.2
	   unlock_maa_seoul_bike = yes
	   
	}
	character_modifier = {
		light_cavalry_damage_mult = 0.1
		light_cavalry_screen_mult = 0.1
		supply_duration = 0.25
		light_cavalry_maintenance_mult = -0.15
		light_cavalry_recruitment_cost_mult = -0.15
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
		}
	}
	
	ai_will_do = {
		value = 100
	}
}